{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lee\\\\Documents\\\\gestion entreprise\\\\client\\\\src\\\\components\\\\user\\\\map\\\\map.jsx\";\nimport React, { Component } from 'react';\nimport \"leaflet/dist/leaflet.css\";\nimport NavBar from '../../NavBar/Navbar';\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';\nimport Button from '@mui/material/Button';\nimport icon from 'leaflet/dist/images/marker.png';\nimport L from 'leaflet';\nimport { Link } from \"react-router-dom\";\nimport ChangeView from './ChangeView';\nimport { Card, Table, ButtonGroup, Form, Row } from 'react-bootstrap';\nimport EntrepriseServices from '../../../services/EntrepriseServices';\nimport \"./container.css\";\nimport \"./leaflet.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nlet DefaultIcon = L.icon({\n  iconUrl: icon,\n  iconSize: [32, 32]\n});\nL.Marker.prototype.options.icon = DefaultIcon;\nexport default class map extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      const ville = event.target.value;\n\n      if (ville == 'fes') {\n        this.setState({\n          lat: '34.025935',\n          lang: '-5.026806'\n        });\n      } else if (ville == 'rabat') {\n        this.setState({\n          lat: '34.022',\n          lang: '-6.83762'\n        });\n      } else {\n        this.setState({\n          lat: '33.579991',\n          lang: '-7.627164'\n        });\n      }\n    };\n\n    this.state = {\n      zoomLevel: 10,\n      entreprise: '',\n      lat: '34.022',\n      lang: '-6.83762',\n      entreprises: []\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    EntrepriseServices.getEntreprises().then(result => {\n      this.setState({\n        entreprises: result.data\n      });\n    }).catch(err => console.log('err : ' + err));\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"app\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"app__body\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"header\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"header__bar\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"title\",\n                children: \"Recherche des Entreprises\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form, {\n                style: {\n                  marginLeft: '110px'\n                },\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"Ville\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 69,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                    \"aria-label\": \"Default select example\",\n                    onChange: this.handleChange,\n                    style: {\n                      marginRight: '100px'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"rabat\",\n                      children: \"Rabat\"\n                    }, '1', false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 72,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"fes\",\n                      children: \"Fes\"\n                    }, '2', false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 75,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"casa\",\n                      children: \"Casa\"\n                    }, '3', false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 78,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 70,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form, {\n                style: {\n                  marginRight: '120px'\n                },\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"Secteur\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 86,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n                    \"aria-label\": \"Default select example\",\n                    style: {\n                      marginRight: '70px'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"rabat\",\n                      children: \"informatique\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 88,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 87,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"map__body\",\n              children: /*#__PURE__*/_jsxDEV(MapContainer, {\n                style: {\n                  height: '422px',\n                  width: '200vh'\n                },\n                center: [this.state.lat, this.state.lang],\n                zoom: this.state.zoomLevel,\n                scrollWheelZoom: false,\n                children: [/*#__PURE__*/_jsxDEV(ChangeView, {\n                  center: [this.state.lat, this.state.lang],\n                  zoom: this.state.zoomLevel\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TileLayer, {\n                  attribution: \"<a href=\\\"https://www.maptiler.com/copyright/\\\" target=\\\"_blank\\\">\\xA9 MapTiler</a> <a href=\\\"https://www.openstreetmap.org/copyright\\\" target=\\\"_blank\\\">\\xA9 OpenStreetMap contributors</a>\",\n                  url: \"https://api.maptiler.com/maps/streets/256/{z}/{x}/{y}.png?key=dumwj19cUL35SI5Gnayy\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 19\n                }, this), this.state.entreprises.map((entr, index) => /*#__PURE__*/_jsxDEV(Marker, {\n                  position: [entr.Latitude, entr.Longitude],\n                  children: /*#__PURE__*/_jsxDEV(Popup, {\n                    children: /*#__PURE__*/_jsxDEV(Card, {\n                      bg: \"Light\",\n                      text: \"dark\",\n                      children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n                        className: \"text-center\",\n                        children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                          children: \"Entreprise Details\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 108,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 107,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                          className: \"h4\",\n                          children: [\"Name:  \", /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"span\",\n                            children: entr.name\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 111,\n                            columnNumber: 58\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 111,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                          className: \"h4\",\n                          children: [\"Secteur:  \", /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"span\",\n                            children: entr.secteur\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 112,\n                            columnNumber: 61\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 112,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                          className: \"h4\",\n                          children: [\"Ville: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"span\",\n                            children: entr.ville\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 113,\n                            columnNumber: 57\n                          }, this), \" \"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 113,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                          className: \"h4\",\n                          children: [\"Tel:  \", /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"span stat\",\n                            children: entr.tel\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 114,\n                            columnNumber: 56\n                          }, this), \" \"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 114,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                          className: \"h4\",\n                          children: [\"Address :  \", /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"span\",\n                            children: entr.address\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 115,\n                            columnNumber: 61\n                          }, this), \" \"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 115,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 110,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Card.Footer, {\n                        className: \"text-center\",\n                        children: /*#__PURE__*/_jsxDEV(Link, {\n                          to: `/entreDetail/${entr._id}`,\n                          children: /*#__PURE__*/_jsxDEV(Button, {\n                            variant: \"contained\",\n                            color: \"secondary\",\n                            children: \"Consulter\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 119,\n                            columnNumber: 32\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 118,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 117,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 106,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 105,\n                    columnNumber: 25\n                  }, this)\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Lee/Documents/gestion entreprise/client/src/components/user/map/map.jsx"],"names":["React","Component","NavBar","MapContainer","TileLayer","Marker","Popup","Button","icon","L","Link","ChangeView","Card","Table","ButtonGroup","Form","Row","EntrepriseServices","DefaultIcon","iconUrl","iconSize","prototype","options","map","constructor","props","handleChange","event","ville","target","value","setState","lat","lang","state","zoomLevel","entreprise","entreprises","bind","componentDidMount","getEntreprises","then","result","data","catch","err","console","log","render","marginLeft","marginRight","height","width","entr","index","Latitude","Longitude","name","secteur","tel","address","_id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport NavBar from '../../NavBar/Navbar';\r\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';\r\nimport Button from '@mui/material/Button';\r\nimport icon from 'leaflet/dist/images/marker.png';\r\nimport L from 'leaflet';\r\nimport { Link } from \"react-router-dom\";\r\nimport ChangeView from './ChangeView';\r\nimport {Card, Table, ButtonGroup, Form, Row} from 'react-bootstrap';\r\nimport EntrepriseServices from '../../../services/EntrepriseServices';\r\nimport \"./container.css\";\r\nimport \"./leaflet.css\";\r\n\r\nlet DefaultIcon = L.icon({\r\n    iconUrl: icon,\r\n    iconSize: [32,32]\r\n});\r\n\r\nL.Marker.prototype.options.icon = DefaultIcon;\r\n\r\nexport default class map extends Component {\r\n\r\n  constructor(props){\r\n    super(props)\r\n\r\n      this.state = {\r\n          zoomLevel: 10,\r\n          entreprise: '',\r\n          lat: '34.022',\r\n          lang: '-6.83762',\r\n          entreprises : []\r\n      }\r\n\r\n      this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  componentDidMount(){\r\n    EntrepriseServices.getEntreprises()\r\n      .then((result) => {\r\n        this.setState({entreprises: result.data})\r\n      })\r\n      .catch((err) => console.log('err : ' + err));\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    const ville = event.target.value;\r\n    if(ville == 'fes'){\r\n      this.setState({lat: '34.025935', lang: '-5.026806'});\r\n    }else  if(ville == 'rabat'){\r\n      this.setState({lat: '34.022', lang: '-6.83762'});\r\n    }else{\r\n      this.setState({lat: '33.579991', lang: '-7.627164'})\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"app\">\r\n          <div className=\"app__body\">\r\n            <div className=\"header\">\r\n              <div className=\"header__bar\">\r\n                <div className=\"title\">\r\n                  Recherche des Entreprises\r\n                </div>\r\n                <Form style={{marginLeft:'110px'}}>\r\n                  <Row>\r\n                    <Form.Label>Ville</Form.Label>\r\n                    <Form.Select aria-label=\"Default select example\" onChange={this.handleChange} style={{marginRight:'100px'}}>\r\n                      \r\n                      <option value='rabat' key='1'>\r\n                        Rabat\r\n                      </option>\r\n                      <option value='fes' key='2'>\r\n                        Fes\r\n                      </option>\r\n                      <option value='casa' key='3'>\r\n                        Casa\r\n                      </option>\r\n                    </Form.Select>\r\n                  </Row>\r\n                </Form>\r\n                <Form style={{marginRight:'120px'}}>\r\n                  <Row>\r\n                    <Form.Label>Secteur</Form.Label>\r\n                    <Form.Select aria-label=\"Default select example\" style={{marginRight:'70px'}}>\r\n                      <option value='rabat'>\r\n                        informatique\r\n                      </option>\r\n                    </Form.Select>\r\n                  </Row>\r\n                </Form>\r\n              </div>\r\n              <div className=\"map__body\">\r\n                <MapContainer style={{height: '422px', width:'200vh'}} center={[this.state.lat, this.state.lang]} zoom={this.state.zoomLevel} scrollWheelZoom={false}>\r\n                  <ChangeView center={[this.state.lat, this.state.lang]} zoom={this.state.zoomLevel} />\r\n                  <TileLayer\r\n                    attribution='<a href=\"https://www.maptiler.com/copyright/\" target=\"_blank\">&copy; MapTiler</a> <a href=\"https://www.openstreetmap.org/copyright\" target=\"_blank\">&copy; OpenStreetMap contributors</a>'\r\n                    url=\"https://api.maptiler.com/maps/streets/256/{z}/{x}/{y}.png?key=dumwj19cUL35SI5Gnayy\"\r\n                  />\r\n                  {\r\n                    this.state.entreprises.map((entr, index) => \r\n                      <Marker position={[entr.Latitude, entr.Longitude]} key={index}>\r\n                        <Popup>\r\n                          <Card bg=\"Light\" text=\"dark\">\r\n                            <Card.Header className=\"text-center\">\r\n                              <h5>Entreprise Details</h5>\r\n                            </Card.Header>\r\n                            <Card.Body>\r\n                              <h6 className=\"h4\" >Name:  <span className=\"span\">{entr.name}</span></h6>\r\n                              <h6 className=\"h4\" >Secteur:  <span className=\"span\">{entr.secteur}</span></h6>\r\n                              <h6 className=\"h4\">Ville: <span className=\"span\">{entr.ville}</span> </h6>\r\n                              <h6 className=\"h4\">Tel:  <span className=\"span stat\">{entr.tel}</span> </h6>\r\n                              <h6 className=\"h4\">Address :  <span className=\"span\">{entr.address}</span> </h6>\r\n                            </Card.Body>\r\n                            <Card.Footer className=\"text-center\">\r\n                              <Link to={`/entreDetail/${entr._id}`}>\r\n                               <Button variant=\"contained\" color=\"secondary\" >Consulter</Button>\r\n                              </Link>\r\n                            </Card.Footer>\r\n                          </Card>\r\n                        </Popup>\r\n                      </Marker>\r\n                    )\r\n                  }\r\n                </MapContainer>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}